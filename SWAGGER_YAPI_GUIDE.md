# Swagger UI & YApi 集成指南

本指南将帮助你使用 Swagger UI 查看接口文档，并将接口导入到 YApi 中进行管理。

## 1. 访问 Swagger UI

我们的 API 服务器现在集成了 Swagger UI，你可以通过浏览器直观地查看和测试接口。

1.  确保服务器正在运行 (`python api_server.py`)。
2.  在浏览器中访问：[http://127.0.0.1:5001/apidocs/](http://127.0.0.1:5001/apidocs/)

你将看到一个交互式的文档页面，可以在上面直接发送请求进行测试。

## 2. 导入到 YApi

YApi 支持导入 Swagger/OpenAPI 格式的接口定义文件。

### 第一步：获取 Swagger JSON 数据

1.  确保服务器正在运行。
2.  访问以下 URL 获取 JSON 格式的接口定义：
    [http://127.0.0.1:5001/apispec_1.json](http://127.0.0.1:5001/apispec_1.json)
3.  你可以直接复制页面上的所有 JSON 内容，或者将该页面“另存为”一个 `.json` 文件（例如 `api_spec.json`）。

### 第二步：在 YApi 中导入

1.  登录你的 YApi 平台。
2.  进入你想要导入接口的项目。
3.  点击顶部的 **“数据管理”** 标签。
4.  在左侧菜单选择 **“数据导入”**。
5.  **数据方式**选择：`Swagger`。
6.  **导入方式**：
    - 如果你保存了文件，选择 **“上传文件”** 并选择刚才的 `api_spec.json`。
    - 或者，你也可以选择 **“手动输入”**，然后将刚才复制的 JSON 内容粘贴进去。
    - _高级选项_：如果你的 YApi 服务器能访问到你的本机（例如都在内网），你也可以选择 **“URL 导入”** 并填入 `http://<你的IP>:5001/apispec_1.json`。
7.  点击 **“确认”** 按钮。

导入成功后，你就可以在 YApi 的 **“接口列表”** 中看到所有的接口了。

## 常见问题

- **Q: 导入时提示格式错误？**

  - A: 确保你复制的是完整的 JSON 内容，没有多余的空格或字符。确保服务器返回的是标准的 JSON 格式。

- **Q: 为什么 YApi 无法通过 URL 导入？**
  - A: YApi 服务器通常部署在远程服务器上，可能无法直接访问你本地 (`127.0.0.1`) 的服务。建议使用“上传文件”或“手动输入”的方式。
